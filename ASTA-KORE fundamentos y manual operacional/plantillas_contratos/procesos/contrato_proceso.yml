# Contrato de Proceso - Especificación Canónica v1.0
# Este archivo es la fuente única de verdad para la gobernanza de un flujo de valor.
# Debe ser versionado junto al código de la Entidad de Valor que lo implementa.

id: "dominio.nombre_proceso"
owner: "nombre-del-equipo"
version: "1.0.0"
purpose: "Descripción concisa del valor de negocio que entrega este proceso."

# (OBLIGATORIO) Acuerdos de Nivel de Servicio (SLA) que el proceso garantiza.
sla:
  # El percentil 95 del tiempo (en minutos) que tarda un caso en completarse.
  cycle_time_p95_minutes: 180
  # El porcentaje de ejecuciones que deben terminar exitosamente sin intervención manual.
  success_rate_target_pct: 99.5

# (OPCIONAL) Puntos de intervención Humano-en-el-Bucle (Human-in-the-Loop).
hitl:
  checkpoints:
    - name: "revision_casos_excepcionales"
      description: "Revisión manual para casos que no cumplen las reglas automáticas."
    - condition: "score_riesgo > 0.8"
      checkpoint: "revision_casos_excepcionales"

# (OPCIONAL) Lógica de compensación para mantener la consistencia (Patrón Saga).
saga:
  steps:
    - name: "validar_postulante"
      invoke: "servicio_validacion.validar"
    - name: "notificar_aprobacion"
      invoke: "servicio_notificaciones.enviar"
      compensate: "servicio_notificaciones.retractar"

# (OBLIGATORIO) Eventos de negocio que el proceso emite y consume.
events:
  emitted:
    - "proceso.iniciado"
    - "proceso.completado"
    - "proceso.fallido"
  consumed:
    - "postulacion.recibida"
    - "validacion_identidad.completada"

# (OBLIGATORIO) Contrato de Observabilidad
observability:
  metrics_dashboard: "url_al_dashboard_de_grafana_del_proceso"
  traces_endpoint: "jaeger_collector_url_para_el_proceso"
  logging:
    level: "info"
    retention_days: 90